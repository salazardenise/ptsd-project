{% extends 'base.html' %}

{% block title %}Messages{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <h1>Send Message</h1>
        <p>Are you feeling anxiety having to message family, friends, and co-workers? Sometimes it is hard to reach out to others. Choose a template below to send a message if you need it.</p>
    </div>
    <div class="row mt-5">
        <h1>Choose One</h1>
    </div>
    <div class="row">
        <p class="alert alert-primary" id="messagesErrorMessage"><small><a href="/signup">Sign Up</a> or <a href="/login">Log In</a> to enable favoriting messages.</small></p>
    </div>
    <div class="row">
        <p class="alert alert-primary"  id="textMessageErrorMessage"><small><a href="/signup">Sign Up</a> or <a href="/login">Log In</a> to enable sending text message templates.</small></p>
    </div>
    <div class="row">
        <p class="alert alert-primary"  id="emailMessageErrorMessage"><small><a href="/signup">Sign Up</a> or <a href="/login">Log In</a> to enable sending email message templates.</small></p>
    </div>
    <div class="row">
        <p class="alert alert-primary"  id="gmailMessageErrorMessage"><small>This app only supports sending emails through gmail. <a href="/signup">Sign Up</a> with a gmail address to enable sending email message templates.</small></p>
    </div>
    <div class="row">
        {% for message in messages %}
        <div class="col-sm-12 col-md-6 mt-3 messageDiv">
            <h2>
                {% if message[1] != None %}
                <i class="message-star fas fa-star" data-messageid="{{ message[0].message_id }}"></i> 
                {% else %}
                <i class="message-star far fa-star" data-messageid="{{ message[0].message_id }}"></i>
                {% endif %}
                {{ message[0].message_type }}
            </h2>

            <div class='message-description expand-cursor mb-3'>{{ message[0].message }}</div>

            <button class="email-button btn btn-primary" data-messageid="{{ message[0].message_id }}">Email</button>

            <button class="text-button btn btn-primary" data-messageid="{{ message[0].message_id }}">Text</button>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
{% block personalScripts %}
    <!-- Personal scripts -->
    <script src="/static/js/messages.js"></script>
{% endblock %}